--- tnftp-20070806/tnftp.h.glibc28      2007-08-07 21:37:03.000000000 
-0400
+++ tnftp-20070806/tnftp.h      2008-06-20 23:08:14.000000000 -0400
@@ -499,3 +499,11 @@
 #define getaddrinfo    Rgetaddrinfo
 #define getipnodebyname        Rgetipnodebyname
 #endif /* defined(USE_SOCKS) */
+
+/* GLIBC >= 2.8 have ARG_MAX replaced by _SC_ARG_MAX */ 
+#ifdef _SC_ARG_MAX
+#ifdef ARG_MAX
+#undef ARG_MAX
+#endif
+#define ARG_MAX sysconf(_SC_ARG_MAX)
+#endif
