

README for alsa-driver

You can specify card support with the ALSA_CARDS environment variable. If
it's left empty the port will build all drivers. This is the default behavior
so the .footprint will mismatch if you set the ALSA_CARDS environment
variable!

If you want to set a specific card, pass the -if option to pkgmk like so:

	# pkgmk -if
	or
	# prt-get install alsa-driver --margs="-if"

This will ignore the footprint.

EXAMPLE: To download and build alsa-driver with support for the emu10k1
and intel8x0 cards, use the following:

	# env ALSA_CARDS="emu10k1,intel8x0" pkgmk -d -if
	or
	# env ALSA_CARDS="emu10k1,intel8x0" prt-get install alsa-driver --margs="-if"


-----------------------------------------------------------------------------

In order to load the proper modules at boot time, consider inserting
something like the following into your /etc/rc.modules file:

----
# ALSA modules
/sbin/modprobe snd-emu10k1   <-- replace with your soundcard module
/sbin/modprobe snd-pcm-oss
/sbin/modprobe snd-mixer-oss
/sbin/modprobe snd-seq-oss
----

As per the ALSA documentation, add something like the following to your
/etc/modprobe.conf file:

----
# ALSA configuration
alias char-major-116 snd
alias snd-card-0 snd-emu10k1   <-- replace with your soundcard module
options snd cards_limit=1

# ALSA OSS configuration
alias char-major-14 soundcore
alias sound-slot-0 snd-card-0
alias sound-service-0-0 snd-mixer-oss
alias sound-service-0-1 snd-seq-oss
alias sound-service-0-3 snd-pcm-oss
alias sound-service-0-8 snd-seq-oss
alias sound-service-0-12 snd-pcm-oss
alias /dev/mixer snd-mixer-oss
alias /dev/dsp snd-pcm-oss
alias /dev/midi snd-seq-oss
----

For saving and restoring mixer levels at shutdown and startup, see the
alsa-utils port and associated README file.

