# Maintainer:  Juergen Daubert, juergen dot daubert at t-online dot de
# Arch Maintainer: Lucas Hazel, lucas at die dot net dot au
# Description: Ruby interpreter
# URL:         http://www.ruby-lang.org
# Depends on:  db, gdbm, ncurses, openssl, readline, zlib

name=ruby
version=1.8.7-p72
release=1
source=(ftp://ftp.ruby-lang.org/pub/$name/1.8/$name-$version.tar.bz2 \
        $name-arch.patch)

build () {
    cd $name-$version

    patch -p1 < $SRC/$name-arch.patch

    ./configure --prefix=/usr \
                --mandir=/usr/man \
                --enable-shared \
                --enable-pthread
    make
    make DESTDIR=$PKG install

    chmod -x $PKG/usr/lib/ruby/1.8/linux/*.h
}
