README POSTGRESQL
=================

UPGRADING FROM A PREVIOUS VERSION
---------------------------------
If upgrading from a non-compatible version (ie 8.0.x >> 8.1.x)
be sure to dump the databases before upgrading and restore them
later.

Example: (for your convenience, there could be better ways to
          achieve this)

# pg_dumpall -U postgres > pg.dump
# /etc/rc.d/postgresql stop

# mv /var/pgsql/data /var/pgsql/data-backup
# mkdir /var/pgsql/data
# chown postgres /var/pgsql/data

# su - postgres
# initdb -D /var/pgsql/data
# exit

# /etc/rc.d/postgresql start
# psql -U postgres -f pg.dump postgres

Do not forget to update / copy old config files to /var/pgsql/data 


NEW INSTALL
-----------

To complete the installation and create a test database you need to do
some additional steps:

# useradd postgres
# passwd -l postgres

# mkdir -p /var/pgsql/data
# touch /var/log/postgresql
# chown postgres /var/pgsql/data /var/log/postgresql

# su - postgres
# initdb -D /var/pgsql/data
# exit

# /etc/rc.d/postgresql start
# su - postgres
# createdb test
# psql test

edit /etc/cron/weekly as root and add a line "/usr/sbin/rotatelog postgresql"

The complete installation instructions are located here:

http://www.postgresql.org/docs/current/interactive/installation.html
