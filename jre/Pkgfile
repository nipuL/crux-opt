# Description: Java 2 Runtime Kit
# URL:         http://java.sun.com
# Maintainer:  Juergen Daubert, jue at crux dot nu
# Arch Maintainer: Lucas Hazel, lucas at die dot net dot au
# Packager:    Simone Rota, sip at crux dot nu

name=jre
version=1.6.0_14
release=1
source=(http://download.java.net/dlj/binaries/jdk-6u14-dlj-linux-i586.bin)

build(){
    sh $SRC/jdk-*.bin --accept-license --unpack

    cd jdk$version

    install -d $PKG/usr/{bin,lib} jre/man/man1
    install -m 644 man/man1/{java,javaws,keytool,orbd,rmid,rmiregistry}.1 jre/man/man1
    install -m 644 man/man1/{servertool,policytool,tnameserv,unpack200}.1 jre/man/man1
    mv jre $PKG/usr/lib/jre$version

    ln -s jre$version $PKG/usr/lib/java
    ln -s ../lib/java/bin/java $PKG/usr/bin/java
    ln -s ../lib/java/bin/javaws $PKG/usr/bin/javaws
    ln -s ../lib/java/bin/keytool $PKG/usr/bin/keytool

    rm $PKG/usr/lib/jre$version/[A-Z]*
}

