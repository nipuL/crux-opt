diff -Nru Python-2.5.2.orig/Lib/cgi.py Python-2.5.2/Lib/cgi.py
--- Python-2.5.2.orig/Lib/cgi.py	2008-03-11 16:05:14.000000000 +0100
+++ Python-2.5.2/Lib/cgi.py	2008-03-11 16:05:25.000000000 +0100
@@ -1,4 +1,4 @@
-#! /usr/local/bin/python
+#! /usr/bin/python
 
 # NOTE: the above "/usr/local/bin/python" is NOT a mistake.  It is
 # intentionally NOT "/usr/bin/env python".  On many systems
diff -Nru Python-2.5.2.orig/Modules/Setup.dist Python-2.5.2/Modules/Setup.dist
--- Python-2.5.2.orig/Modules/Setup.dist	2008-03-11 16:05:14.000000000 +0100
+++ Python-2.5.2/Modules/Setup.dist	2008-03-11 16:05:25.000000000 +0100
@@ -149,7 +149,7 @@
 # modules are to be built as shared libraries (see above for more
 # detail; also note that *static* reverses this effect):
 
-#*shared*
+*shared*
 
 # GNU readline.  Unlike previous Python incarnations, GNU readline is
 # now incorporated in an optional module, configured in the Setup file
@@ -381,7 +381,7 @@
 #
 # First, look at Setup.config; configure may have set this for you.
 
-#dbm dbmmodule.c 	# dbm(3) may require -lndbm or similar
+dbm dbmmodule.c -DHAVE_NDBM_H -lgdbm_compat -lgdbm	# dbm(3) may require -lndbm or similar
 
 # Anthony Baxter's gdbm module.  GNU dbm(3) will require -lgdbm:
 #
diff -Nru Python-2.5.2.orig/configure Python-2.5.2/configure
--- Python-2.5.2.orig/configure	2008-03-11 16:05:14.000000000 +0100
+++ Python-2.5.2/configure	2008-03-11 16:07:10.000000000 +0100
@@ -4442,7 +4442,7 @@
 		# debug builds.
 		OPT="-g -Wall $STRICT_PROTO"
 	    else
-		OPT="-g $WRAP -O3 -Wall $STRICT_PROTO"
+		OPT="$CFLAGS $WRAP -Wall $STRICT_PROTO"
 	    fi
 	    ;;
 	*)
